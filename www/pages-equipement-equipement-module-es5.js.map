{"version":3,"sources":["webpack:///src/app/pages/equipement/equipement-routing.module.ts","webpack:///src/app/pages/equipement/equipement.module.ts","webpack:///src/app/pages/equipement/equipement.page.scss","webpack:///src/app/pages/equipement/equipement.page.ts","webpack:///src/app/services/materiel.service.ts","webpack:///src/app/pages/equipement/equipement.page.html"],"names":["routes","path","component","EquipementPageRoutingModule","imports","forChild","exports","EquipementPageModule","declarations","EquipementPage","formBuilder","materielService","database","isSubmitted","getMateriel","ionicForm","group","name","required","minLength","maxLength","price","quantity","valid","console","log","value","emp","postMateriel","subscribe","result","materielListTab","unshift","reset","postMaterielToFirebase","then","res","updateMaterielStatus","id","status","err","data","getEquipementFromFirebase","upadteMaterielFirebaseStatus","row","upadteMateriel","deleteMateriel","filter","elt","_id","list","ref","orderByChild","limitToLast","snapshotChanges","actions","tab","forEach","action","a","payload","val","key","push","selector","template","MaterielService","http","url","post","patch","materiel","Promise","resolve","reject","b","error","JSON","stringify","get","providedIn"],"mappings":"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","file":"pages-equipement-equipement-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EquipementPage } from './equipement.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EquipementPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EquipementPageRoutingModule {}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { EquipementPageRoutingModule } from \"./equipement-routing.module\";\n\nimport { EquipementPage } from \"./equipement.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EquipementPageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [EquipementPage],\n})\nexport class EquipementPageModule {}\n","export default \".center {\\n  text-align: center;\\n  text-transform: uppercase;\\n  padding: 20px 0;\\n  font-size: 20px;\\n  background-color: #f1f1f1;\\n}\\n\\nion-label {\\n  text-transform: uppercase;\\n  font-size: 5px;\\n}\\n\\nspan {\\n  text-align: center;\\n  background-color: #f56276;\\n  text-transform: uppercase;\\n  font-size: 10px;\\n  display: block;\\n}\\n\\nion-item {\\n  font-size: 12px;\\n}\\n\\nion-col div {\\n  font-size: 10px;\\n  text-transform: uppercase;\\n}\\n\\nion-col .inte {\\n  font-size: 10px;\\n  text-transform: uppercase;\\n}\\n\\n.data-lastrow {\\n  background-color: #f1f1f1;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.header-row {\\n  background-color: #263bf5;\\n  padding-top: 10px;\\n  padding-bottom: 10px;\\n}\\n\\n.first {\\n  display: block;\\n}\\n\\n.first {\\n  display: flex;\\n}\\n\\n.first div {\\n  flex-grow: 1;\\n  border: 1px solid #f1f1f1;\\n  margin: 15px;\\n}\\n\\n.second {\\n  display: flex;\\n}\\n\\n.second div {\\n  flex-grow: 1;\\n  border: 1px solid #f1f1f1;\\n  margin: 15px;\\n}\\n\\n.third {\\n  display: flex;\\n}\\n\\n.third div {\\n  flex-grow: 1;\\n  border: 1px solid #f1f1f1;\\n  margin-top: 15px;\\n  height: 200px;\\n}\\n\\n.icone {\\n  font-size: 30px;\\n}\\n\\n.inte {\\n  font-size: 15px;\\n}\\n\\n.allIcone {\\n  display: flex;\\n}\\n\\n.allIcone div {\\n  flex-grow: 1;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZXF1aXBlbWVudC9lcXVpcGVtZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEseUJBQUE7RUFDQSxlQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0FBQUY7O0FBR0E7RUFDRSx5QkFBQTtFQUNBLGNBQUE7QUFBRjs7QUFJQTtFQUNFLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0FBREY7O0FBR0E7RUFDRSxlQUFBO0FBQUY7O0FBR0U7RUFDRSxlQUFBO0VBQ0EseUJBQUE7QUFBSjs7QUFNRTtFQUNFLGVBQUE7RUFDQSx5QkFBQTtBQUhKOztBQVFBO0VBQ0UseUJBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0FBTEY7O0FBT0E7RUFDRSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7QUFKRjs7QUFXQTtFQUNFLGNBQUE7QUFURjs7QUFZQTtFQUNFLGFBQUE7QUFURjs7QUFhQTtFQUVFLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFYRjs7QUFjQTtFQUNFLGFBQUE7QUFYRjs7QUFlQTtFQUVFLFlBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFiRjs7QUFlQTtFQUNFLGFBQUE7QUFaRjs7QUFjQTtFQUVFLFlBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtBQVpGOztBQW1CQTtFQUNFLGVBQUE7QUFoQkY7O0FBa0JBO0VBQ0UsZUFBQTtBQWZGOztBQWlCQTtFQUNFLGFBQUE7QUFkRjs7QUFnQkE7RUFFRSxZQUFBO0FBZEYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9lcXVpcGVtZW50L2VxdWlwZW1lbnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbnRlciB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIC8vIGJvcmRlcjogM3B4IHNvbGlkICNmMWYxZjE7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICBwYWRkaW5nOiAyMHB4IDA7XHJcbiAgZm9udC1zaXplOiAyMHB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XHJcbn1cclxuXHJcbmlvbi1sYWJlbCB7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICBmb250LXNpemU6IDVweDtcclxuICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ1LCA5OCwgMTE4KTtcclxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBkaXNwbGF5OiBibG9jaztcclxufVxyXG5pb24taXRlbSB7XHJcbiAgZm9udC1zaXplOiAxMnB4O1xyXG59XHJcbmlvbi1jb2wge1xyXG4gIGRpdiB7XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIH1cclxuICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbmlvbi1jb2wge1xyXG4gIC5pbnRlIHtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgfVxyXG4gIC8vIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLmRhdGEtbGFzdHJvdyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxufVxyXG4uaGVhZGVyLXJvdyB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI2M2JmNTtcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxuICBwYWRkaW5nLWJvdHRvbTogMTBweDtcclxuICBpb24tY29sIHtcclxuICAgIGRpdiB7XHJcbiAgICAgIC8vIGZvbnQtc2l6ZTogOXB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4uZmlyc3Qge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIC8vIGJhY2tncm91bmQtY29sb3I6IGJyb3duO1xyXG59XHJcbi5maXJzdCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICAvL2ZsZXgtd3JhcDogbm93cmFwO1xyXG4gIC8vanVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcbi5maXJzdCBkaXYge1xyXG4gIC8vIHdpZHRoOiAyNSU7XHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmMWYxZjE7XHJcbiAgbWFyZ2luOiAxNXB4O1xyXG59XHJcblxyXG4uc2Vjb25kIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIC8vIGZsZXgtd3JhcDogd3JhcDtcclxuICAvLyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuLnNlY29uZCBkaXYge1xyXG4gIC8vIHdpZHRoOiAyNSU7XHJcbiAgZmxleC1ncm93OiAxO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmMWYxZjE7XHJcbiAgbWFyZ2luOiAxNXB4O1xyXG59XHJcbi50aGlyZCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG4udGhpcmQgZGl2IHtcclxuICAvLyB3aWR0aDogMjUlO1xyXG4gIGZsZXgtZ3JvdzogMTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjZjFmMWYxO1xyXG4gIG1hcmdpbi10b3A6IDE1cHg7XHJcbiAgaGVpZ2h0OiAyMDBweDtcclxufVxyXG5mb3JtLFxyXG4uZmllbGRzIHtcclxuICAvLyBkaXNwbGF5OiBmbGV4O1xyXG4gIC8vIGZsZXgtd3JhcDogd3JhcDtcclxufVxyXG4uaWNvbmUge1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG4uaW50ZSB7XHJcbiAgZm9udC1zaXplOiAxNXB4O1xyXG59XHJcbi5hbGxJY29uZSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxufVxyXG4uYWxsSWNvbmUgZGl2IHtcclxuICAvLyB3aWR0aDogMjUlO1xyXG4gIGZsZXgtZ3JvdzogMTtcclxufVxyXG4iXX0= */\";","import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Materiel } from \"../../models/materiel.model\";\nimport { MaterielService } from \"src/app/services/materiel.service\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { AngularFireStorage } from \"@angular/fire/storage\";\nimport * as firebsase from \"firebase\";\n\n@Component({\n  selector: \"app-equipement\",\n  templateUrl: \"./equipement.page.html\",\n  styleUrls: [\"./equipement.page.scss\"],\n})\nexport class EquipementPage implements OnInit {\n  ionicForm: FormGroup;\n  // defaultDate = \"1987-06-30\";\n  isSubmitted = false;\n\n  materielListTab: Array<Materiel>;\n  constructor(\n    public formBuilder: FormBuilder,\n    public materielService: MaterielService,\n    private database: AngularFireDatabase\n  ) {\n    this.getMateriel();\n  }\n\n  ngOnInit() {\n    this.ionicForm = this.formBuilder.group({\n      name: [\n        \"\",\n        [\n          Validators.required,\n          Validators.minLength(2),\n          Validators.maxLength(20),\n        ],\n      ],\n      price: [\n        \"\",\n        [\n          Validators.required,\n          Validators.minLength(1),\n          Validators.maxLength(1000),\n        ],\n      ],\n\n      quantity: [\n        \"\",\n        [\n          Validators.required,\n          Validators.minLength(1),\n          Validators.maxLength(1000),\n        ],\n      ],\n    });\n  }\n\n  submitForm() {\n    this.isSubmitted = true;\n    // console.log(this.ionicForm.value);\n    if (!this.ionicForm.valid) {\n      console.log(\"Please provide all the required values!\");\n      return false;\n    } else {\n      console.log(this.ionicForm.value);\n      let emp = this.ionicForm.value;\n      this.materielService.postMateriel(this.ionicForm.value).subscribe(\n        (result: Materiel) => {\n          console.log(result);\n          this.materielListTab.unshift(result);\n          this.isSubmitted = false;\n          this.ionicForm.reset();\n          // this.getActivities();\n          this.materielService\n            .postMaterielToFirebase(result)\n            .then((res) => {\n              console.log(res);\n              this.updateMaterielStatus({\n                id: result[\"_id\"],\n                status: true,\n              });\n            })\n            .catch((err) => {\n              console.log(err);\n              this.updateMaterielStatus({\n                id: result[\"_id\"],\n                status: false,\n              });\n            });\n        },\n        (err) => {\n          console.log(err);\n        }\n      );\n    }\n  }\n  getMateriel() {\n    this.materielService.getMateriel().subscribe(\n      (data: Array<Materiel>) => {\n        console.log(data);\n\n        this.materielListTab = data;\n        this.getEquipementFromFirebase();\n      },\n      (err) => {\n        this.getEquipementFromFirebase();\n      }\n    );\n  }\n  updateMaterielStatus(data) {\n    this.materielService\n      .upadteMaterielFirebaseStatus(data)\n      .subscribe((data) => {\n        console.log(data);\n      });\n  }\n\n  removeOne(row: Materiel) {\n    if (row.quantity > 0) {\n      row.quantity = row.quantity - 1;\n      this.materielService.upadteMateriel(row).subscribe((res) => {\n        console.log(res);\n      });\n    }\n  }\n  addOne(row: Materiel) {\n    row.quantity = row.quantity + 1;\n    this.materielService.upadteMateriel(row).subscribe((res) => {\n      console.log(res);\n    });\n  }\n  delete(row: Materiel) {\n    console.log(row);\n\n    this.materielService.deleteMateriel(row).subscribe((res) => {\n      console.log(res);\n\n      this.materielListTab = this.materielListTab.filter((elt) => {\n        return elt._id !== row._id;\n      });\n    });\n  }\n\n  getEquipementFromFirebase() {\n    this.database\n      //.list(\"agriActivities\")\n      .list(\"/agriMatriels\", (ref) =>\n        ref.orderByChild(\"agriMatriels\").limitToLast(20)\n      )\n      .snapshotChanges()\n      .subscribe((actions) => {\n        console.log(actions);\n\n        let tab = [];\n        actions.forEach((action) => {\n          let a = action.payload.val();\n          a[\"key\"] = action.key;\n          console.log(a);\n          tab.push(a);\n        });\n        /* if (this.activitiesTab.length) {\n          tab.forEach((act) => {\n            this.activitiesTab.forEach((elt) => {\n              if (elt._id == act._id) {\n                this.remplaceActivitie(act);\n              }\n            });\n          });\n        } */\n      });\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HttpClient } from \"@angular/common/http\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { AngularFireStorage } from \"@angular/fire/storage\";\nimport * as firebsase from \"firebase\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class MaterielService {\n  url = \"http://localhost:3000/\";\n  constructor(\n    private http: HttpClient,\n    private database: AngularFireDatabase\n  ) {}\n\n  postMateriel(data) {\n    data[\"firebaseAdd\"] = false;\n    return this.http.post(this.url + `materiel`, data);\n  }\n  upadteMaterielFirebaseStatus(data) {\n    // data[\"firebaseAdd\"] = false;\n    return this.http.patch(this.url + `materiel/firebaseAdd`, data);\n  }\n  upadteMateriel(data) {\n    // data[\"firebaseAdd\"] = false;\n    return this.http.patch(this.url + `materiel/`, data);\n  }\n  deleteMateriel(data) {\n    // data[\"firebaseAdd\"] = false;\n    return this.http.delete(this.url + `materiel/firebaseAdd/${data._id}`);\n  }\n\n  postMaterielToFirebase(materiel) {\n    return new Promise((resolve, reject) => {\n      let database = this.database.list(\"agriMatriels\");\n      database\n        .push(materiel)\n        .then((b) => {\n          resolve(b);\n        })\n        .catch((error) => {\n          reject(JSON.stringify(error));\n        });\n    });\n  }\n\n  getMateriel() {\n    return this.http.get(this.url + `materiel`);\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"medium\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size-md=\\\"12\\\" size-lg=\\\"12\\\" size-xs=\\\"12\\\" size-sm=\\\"12\\\" size-xl=\\\"12\\\">\\n        <div class=\\\"cole\\\">\\n          <form [formGroup]=\\\"ionicForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\n            <div class=\\\"first\\\">\\n              <div class=\\\"divint\\\">\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-label position=\\\"floating\\\">Nom matériel</ion-label>\\n                  <ion-input\\n                    placeholder=\\\"Entrer le nom ici\\\"\\n                    formControlName=\\\"name\\\"\\n                    type=\\\"text\\\"\\n                  ></ion-input>\\n                </ion-item>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.name.errors?.required\\\"\\n                >\\n                  Name is required.\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.name.errors?.minlength\\\"\\n                >\\n                  Name should be min 2 chars long.\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.name.errors?.maxLength\\\"\\n                >\\n                  Name not should be max 20 chars long.\\n                </span>\\n              </div>\\n\\n              <div>\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-label position=\\\"floating\\\">prix unitaire</ion-label>\\n                  <ion-input\\n                    placeholder=\\\"Entrer le prix unitaire ici\\\"\\n                    formControlName=\\\"price\\\"\\n                    type=\\\"number\\\"\\n                  ></ion-input>\\n                </ion-item>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.price.errors?.minlength\\\"\\n                >\\n                  Please provide valid price .\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.price.errors?.maxLength\\\"\\n                >\\n                  Please provide valid price .\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.price.errors?.required\\\"\\n                >\\n                  Entrer le prix d'achat.\\n                </span>\\n              </div>\\n              <div>\\n                <ion-item lines=\\\"none\\\">\\n                  <ion-label position=\\\"floating\\\">quantité disponible</ion-label>\\n                  <ion-input\\n                    placeholder=\\\"Entrer la quantité disponible ici\\\"\\n                    formControlName=\\\"quantity\\\"\\n                    type=\\\"number\\\"\\n                  ></ion-input>\\n                </ion-item>\\n\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.quantity.errors?.minlength\\\"\\n                >\\n                  Please provide valid quantity .\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.quantity.errors?.maxLength\\\"\\n                >\\n                  Please provide valid quantity .\\n                </span>\\n                <span\\n                  class=\\\"error ion-padding\\\"\\n                  *ngIf=\\\"isSubmitted && errorControl.quantity.errors?.required\\\"\\n                >\\n                  Entrer la quantité.\\n                </span>\\n              </div>\\n              <div>\\n                <ion-col>\\n                  <div class=\\\"ion-text-center\\\">\\n                    <ion-button type=\\\"submit\\\" color=\\\"danger\\\" size=\\\"small\\\"\\n                      >Enregistrer</ion-button\\n                    >\\n                  </div>\\n                </ion-col>\\n              </div>\\n            </div>\\n          </form>\\n        </div>\\n      </ion-col>\\n      <ion-col>\\n        <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n          <h3>liste matériels</h3>\\n        </div>\\n        <div>\\n          <ion-row class=\\\"header-row\\\">\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <div class=\\\"ion-text-center ion-text-uppercase\\\">Nom</div>\\n            </ion-col>\\n\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n                prix unitaire\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <div class=\\\"ion-text-center ion-text-uppercase\\\">quantité</div>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n                Besoin matériel\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n              <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n                cout matériel\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n        </div>\\n\\n        <ion-row\\n          *ngFor=\\\"let row of materielListTab; let i= index\\\"\\n          class=\\\"data-row data-update\\\"\\n          [ngStyle]=\\\"{'background-color': i % 2 == 0 ? '#f1f1f1' : 'white' }\\\"\\n        >\\n          <ion-col\\n            size=\\\"2\\\"\\n            class=\\\"ion-align-self-center\\\"\\n            [ngStyle]=\\\"{'height': '30px' }\\\"\\n          >\\n            <div class=\\\"ion-text-center inte\\\">{{row.name}}</div>\\n          </ion-col>\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n            <div class=\\\"ion-text-center inte\\\">\\n              {{row.price | currency: \\\"FCFA\\\":\\\"symbol\\\":\\\"3.0-0\\\":\\\"fr\\\"}}\\n            </div>\\n          </ion-col>\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n            <div class=\\\"ion-text-center inte\\\">{{row.quantity}}</div>\\n          </ion-col>\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n            <div class=\\\"ion-text-center inte\\\">{{row.quantity}}</div>\\n          </ion-col>\\n\\n          <ion-col size=\\\"2\\\" class=\\\"ion-align-self-center\\\">\\n            <div class=\\\"ion-text-center inte\\\">\\n              {{row.quantity * row.price | currency:\\n              \\\"FCFA\\\":\\\"symbol\\\":\\\"3.0-0\\\":\\\"fr\\\"}}\\n            </div>\\n          </ion-col>\\n\\n          <ion-col size=\\\"2\\\">\\n            <div class=\\\"ion-text-center allIcone\\\">\\n              <div>\\n                <ion-button\\n                  size=\\\"small\\\"\\n                  fill=\\\"outline\\\"\\n                  (click)=\\\"removeOne(row)\\\"\\n                >\\n                  <ion-icon\\n                    class=\\\"icone\\\"\\n                    name=\\\"remove-circle-outline\\\"\\n                  ></ion-icon>\\n                </ion-button>\\n              </div>\\n              <div>\\n                <ion-button size=\\\"small\\\" fill=\\\"outline\\\" (click)=\\\"addOne(row)\\\">\\n                  <ion-icon class=\\\"icone\\\" name=\\\"add-circle-outline\\\"></ion-icon>\\n                </ion-button>\\n              </div>\\n              <div>\\n                <ion-button size=\\\"small\\\" fill=\\\"outline\\\" (click)=\\\"delete(row)\\\">\\n                  <ion-icon class=\\\"icone\\\" name=\\\"trash\\\"></ion-icon>\\n                </ion-button>\\n              </div>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";"]}