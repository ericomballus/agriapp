{"version":3,"sources":["./src/app/pages/employee/employee.module.ts","./src/app/pages/employee/employee.page.ts","./src/app/pages/employee/employee.page.html","./src/app/pages/employee/employee-routing.module.ts","./src/app/models/employe.model.ts","./src/app/pages/employee/employee.page.scss"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACmB;AAErB;AAEyB;AAEvB;IAYlC,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAV9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;YACzB,kEAAmB;SACpB;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBmB;AACkB;AACf;AACO;AACX;AACY;AACuB;IAMvE,YAAY,SAAZ,YAAY;IAKvB,YACS,WAAwB,EACxB,WAAwB,EACxB,eAAgC,EAC/B,QAA6B,EAC9B,IAA6B,CAAC,EAAE;;QAJhC,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QACxB,oBAAe,GAAf,eAAe,CAAiB;QAC/B,aAAQ,GAAR,QAAQ,CAAqB;QAC9B,SAAI,GAAJ,IAAI,CAAyB;QARtC,gBAAW,GAAG,YAAY,CAAC;QAC3B,gBAAW,GAAG,KAAK,CAAC;QACpB,aAAQ,GAAG,EAAE,CAAC;QAQZ,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,IAAI,EAAE;gBACJ,EAAE;gBACF;oBACE,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;oBACvB,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBACzB;aACF;YACD,KAAK,EAAE;gBACL,EAAE;gBACF;oBACE,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC;oBACvB,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC;iBACzB;aACF;YACD,KAAK,EAAE;gBACL,EAAE;gBACF;oBACE,yDAAU,CAAC,QAAQ;oBACnB,yDAAU,CAAC,OAAO,CAAC,wCAAwC,CAAC;iBAC7D;aACF;YACD,0BAA0B;YAC1B,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;SACpE,CAAC,CAAC;IACL,CAAC;IAED,OAAO,CAAC,CAAC;QACP,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;QACnE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE;YACvC,QAAQ,EAAE,IAAI;SACf,CAAC,CAAC;IACL,CAAC;IAED,IAAI,YAAY;QACd,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;IACjC,CAAC;IAED,UAAU;QACR,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE;YACzB,OAAO,CAAC,GAAG,CAAC,yCAAyC,CAAC,CAAC;YACvD,OAAO,KAAK,CAAC;SACd;aAAM;YACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;YAC/B,IAAI,OAAO,GAAG,IAAI,6DAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;YACtE,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;gBACjE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBACxD,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;gBAClC,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC;SAChC;IACH,CAAC;IACD,YAAY;QACV,IAAI,CAAC,QAAQ;aACV,IAAI,CAAC,UAAU,CAAC;aAChB,eAAe,CAAC,CAAC,aAAa,CAAC,CAAC;aAChC,SAAS,CAAC,CAAC,OAAO,EAAE,EAAE;YACrB,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;gBACzB,IAAI,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;gBAC7B,CAAC,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;gBACtB,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAEf,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC1C,OAAO,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;gBAC9B,CAAC,CAAC,CAAC;gBACH,IAAI,KAAK,IAAI,CAAC,EAAE;oBACd,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;iBACvB;qBAAM;oBACL,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;iBACb;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;YACpB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IACK,QAAQ,CAAC,KAAa;;YAC1B,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,OAAO,EAAE,KAAK;gBACd,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,IAAI;gBACd,QAAQ,EAAE,KAAK;aAChB,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;IAED,aAAa,CAAC,IAAI;QAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,QAAQ;aACV,IAAI,CAAC,UAAU,CAAC;aAChB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;aAChB,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;YACZ,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,CAAC;aACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE;YACb,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;CACF;;YArImB,0DAAW;YAEtB,yEAAW;YACX,8DAAe;YACf,0EAAmB;YACnB,iGAAuB;;AAMnB,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,gFAAmC;;KAEpC,CAAC;GACW,YAAY,CA0HxB;AA1HwB;;;;;;;;;;;;;ACZzB;AAAe,+/IAAg8I,WAAW,gCAAgC,YAAY,eAAe,aAAa,wbAAwb,E;;;;;;;;;;;;;;;;;;;ACAj7J;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;AChBtC;AAAA;AAAO,MAAM,OAAO;IAQlB,YAAY,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM;QAJtC,YAAO,GAAW,CAAC,CAAC;QAKlB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,2BAA2B;IAC7B,CAAC;CACF;;;;;;;;;;;;;ACfD;AAAe,6GAA8C,mJAAmJ,E","file":"pages-employee-employee-module-es2015.js","sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\n\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { EmployeePageRoutingModule } from \"./employee-routing.module\";\n\nimport { EmployeePage } from \"./employee.page\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EmployeePageRoutingModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [EmployeePage],\n})\nexport class EmployeePageModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Employe } from \"../../models/employe.model\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { ToastController } from \"@ionic/angular\";\nimport { AngularFireDatabase } from \"@angular/fire/database\";\nimport { AuthentificationService } from \"src/app/services/authentification.service\";\n@Component({\n  selector: \"app-employee\",\n  templateUrl: \"./employee.page.html\",\n  styleUrls: [\"./employee.page.scss\"],\n})\nexport class EmployeePage implements OnInit {\n  ionicForm: FormGroup;\n  defaultDate = \"1987-06-30\";\n  isSubmitted = false;\n  userList = [];\n  constructor(\n    public formBuilder: FormBuilder,\n    public userService: UserService,\n    public toastController: ToastController,\n    private database: AngularFireDatabase,\n    public auth: AuthentificationService //\n  ) {\n    this.getEmployees();\n  }\n\n  ngOnInit() {\n    this.ionicForm = this.formBuilder.group({\n      name: [\n        \"\",\n        [\n          Validators.required,\n          Validators.minLength(2),\n          Validators.maxLength(20),\n        ],\n      ],\n      poste: [\n        \"\",\n        [\n          Validators.required,\n          Validators.minLength(2),\n          Validators.maxLength(20),\n        ],\n      ],\n      email: [\n        \"\",\n        [\n          Validators.required,\n          Validators.pattern(\"[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$\"),\n        ],\n      ],\n      //dob: [this.defaultDate],\n      mobile: [\"\", [Validators.required, Validators.pattern(\"^[0-9]+$\")]],\n    });\n  }\n\n  getDate(e) {\n    let date = new Date(e.target.value).toISOString().substring(0, 10);\n    this.ionicForm.get(\"dob\").setValue(date, {\n      onlyself: true,\n    });\n  }\n\n  get errorControl() {\n    return this.ionicForm.controls;\n  }\n\n  submitForm() {\n    this.isSubmitted = true;\n    if (!this.ionicForm.valid) {\n      console.log(\"Please provide all the required values!\");\n      return false;\n    } else {\n      console.log(this.ionicForm.value);\n      let emp = this.ionicForm.value;\n      let employe = new Employe(emp.name, emp.poste, emp.email, emp.mobile);\n      console.log(employe);\n      this.auth.inscription(employe.email, \"hellohello123\").then((res) => {\n        console.log(res);\n        this.userService.addUserToFirebase(employe).then((data) => {\n          this.notifier(\"employé ajouté\");\n        });\n      });\n\n      this.ionicForm.value.name = \"\";\n    }\n  }\n  getEmployees() {\n    this.database\n      .list(\"agriUser\")\n      .snapshotChanges([\"child_added\"])\n      .subscribe((actions) => {\n        let tab = [];\n        actions.forEach((action) => {\n          let a = action.payload.val();\n          a[\"key\"] = action.key;\n          console.log(a);\n\n          let index = this.userList.findIndex((elt) => {\n            return elt.key === a[\"key\"];\n          });\n          if (index >= 0) {\n            console.log(\"existe\");\n          } else {\n            tab.push(a);\n          }\n        });\n        this.userList = tab;\n        console.log(this.userList);\n      });\n  }\n  async notifier(texte: string) {\n    const toast = await this.toastController.create({\n      message: texte,\n      duration: 5000,\n      animated: true,\n      position: \"top\",\n    });\n    toast.present();\n  }\n\n  removeEmploye(user) {\n    console.log(user);\n    this.database\n      .list(\"agriUser\")\n      .remove(user.key)\n      .then((res) => {\n        this.getEmployees();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"medium\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n          <h3>ajouter un employé</h3>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"3\\\" size-lg=\\\"3\\\" size-sm=\\\"12\\\"> </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-sm=\\\"12\\\">\\n        <form [formGroup]=\\\"ionicForm\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"floating\\\">Name</ion-label>\\n            <ion-input formControlName=\\\"name\\\" type=\\\"text\\\"></ion-input>\\n          </ion-item>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.name.errors?.required\\\"\\n          >\\n            Name is required.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.name.errors?.minlength\\\"\\n          >\\n            Name should be min 2 chars long.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.name.errors?.maxLength\\\"\\n          >\\n            Name not should be max 20 chars long.\\n          </span>\\n\\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"floating\\\">Poste</ion-label>\\n            <ion-input formControlName=\\\"poste\\\" type=\\\"text\\\"></ion-input>\\n          </ion-item>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.poste.errors?.required\\\"\\n          >\\n            Name is required.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.poste.errors?.minlength\\\"\\n          >\\n            Name should be min 2 chars long.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.poste.errors?.maxLength\\\"\\n          >\\n            Name not should be max 20 chars long.\\n          </span>\\n\\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"floating\\\">Email</ion-label>\\n            <ion-input formControlName=\\\"email\\\" type=\\\"email\\\"></ion-input>\\n          </ion-item>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.email.errors?.required\\\"\\n          >\\n            Email is required.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.email.errors?.pattern\\\"\\n          >\\n            Please provide valid email id.\\n          </span>\\n\\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"floating\\\">Mobile</ion-label>\\n            <ion-input\\n              maxlength=\\\"10\\\"\\n              formControlName=\\\"mobile\\\"\\n              type=\\\"text\\\"\\n              required\\n            ></ion-input>\\n          </ion-item>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.mobile.errors?.required\\\"\\n          >\\n            Mobile number is required.\\n          </span>\\n          <span\\n            class=\\\"error ion-padding\\\"\\n            *ngIf=\\\"isSubmitted && errorControl.mobile.errors?.pattern\\\"\\n          >\\n            Only numerical values allowed.\\n          </span>\\n\\n          <ion-row>\\n            <ion-col>\\n              <ion-button type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"block\\\"\\n                >Submit</ion-button\\n              >\\n            </ion-col>\\n          </ion-row>\\n        </form>\\n      </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"3\\\" size-lg=\\\"3\\\" size-sm=\\\"12\\\"> </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"ion-text-center ion-text-uppercase\\\">\\n          <h3>liste employés</h3>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"3\\\" size-lg=\\\"3\\\" size-sm=\\\"12\\\"> </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"6\\\" size-lg=\\\"6\\\" size-sm=\\\"12\\\">\\n        <ion-list>\\n          <ion-item *ngFor=\\\"let user of userList\\\">\\n            <ion-icon slot=\\\"start\\\" name=\\\"person-outline\\\"></ion-icon>\\n            <ion-label>\\n              <h2>{{user.name}}</h2>\\n              <p>Email:{{user.email}}, Telephone: {{user.mobile}}</p>\\n            </ion-label>\\n            <ion-button fill=\\\"clear\\\" slot=\\\"end\\\" (click)=\\\"removeEmploye(user)\\\"\\n              >delete\\n              <ion-icon slot=\\\"end\\\" name=\\\"trash-bin-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n      <ion-col size-xs=\\\"12\\\" size-md=\\\"3\\\" size-lg=\\\"3\\\" size-sm=\\\"12\\\"> </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EmployeePage } from './employee.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EmployeePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EmployeePageRoutingModule {}\n","export class Employe {\r\n  name: string;\r\n  poste: string;\r\n\r\n  salaire: number = 0;\r\n  mobile: string;\r\n  email: string;\r\n\r\n  constructor(name, poste, email, mobile) {\r\n    this.name = name;\r\n    this.email = email;\r\n    this.mobile = mobile;\r\n    this.poste = poste;\r\n    //  this.salaire = salaire;\r\n  }\r\n}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2VtcGxveWVlL2VtcGxveWVlLnBhZ2Uuc2NzcyJ9 */\";"],"sourceRoot":"webpack:///"}