<ion-header>
  <ion-toolbar color="medium">
    <ion-title></ion-title>
    <ion-buttons slot="start">
      <ion-button (click)="dismiss()">
        <ion-icon name="close-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-button (click)="addExecutant()">
        ajouter executant
        <ion-icon slot="start" name="add-circle-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div>
    <ion-row>
      <ion-col size="12" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">
          <h2>Exécutants</h2>
        </div>
      </ion-col>
    </ion-row>
    <ion-row [ngStyle]="{'background-color': '#9c9797' }">
      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">Nom</div>
      </ion-col>
      <!-- -->
      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">main d'oeuvre</div>
      </ion-col>
      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">reçu</div>
      </ion-col>

      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">action</div>
      </ion-col>
    </ion-row>
  </div>

  <div>
    <ion-row
      *ngFor="let user of activity.executant; let i= index"
      style="width: 100%; max-height: 600px"
      class="data-row data-update"
      [ngStyle]="{'background-color': i % 2 == 0 ? '#f1f1f1' : 'white' }"
    >
      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center inte ion-text-uppercase">{{user.name}}</div>
      </ion-col>
      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center inte">{{activity.coutmaindoeuvre}}</div>
      </ion-col>

      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center inte">
          <ion-input
            placeholder="Entrer la main d'oeuvre"
            type="number"
            [(ngModel)]="user.maindoeuvre"
          ></ion-input>
        </div>
      </ion-col>

      <ion-col size="3" class="ion-align-self-center">
        <div class="ion-text-center inte">
          <ion-button
            *ngIf="user.display !== false"
            (click)="removeUser(user)"
            color="warning"
            size="small"
          >
            <ion-icon slot="start" name="trash-bin-outline"></ion-icon>
            supprimer
          </ion-button>
          <ion-button
            (click)="showMotif(user)"
            *ngIf="user.display == false"
            color="danger"
            size="small"
            fill="outline"
          >
            a été retiré
          </ion-button>
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12" class="ion-align-self-center">
        <div class="ion-text-center ion-text-uppercase">
          <h6 class="reste">
            reste: {{reste | currency: "FCFA":"symbol":"3.0-0":"fr"}}
          </h6>
          <h6 class="recu">
            total reçus: {{total | currency: "FCFA":"symbol":"3.0-0":"fr"}}
          </h6>
        </div>
      </ion-col>
    </ion-row>
  </div>
</ion-content>
